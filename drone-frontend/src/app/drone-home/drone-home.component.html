<h2>Drone Query</h2>
<div class="container">
  <form (ngSubmit)="OnSubmitQuery()">
    <input type="text" [formControl]= "query" placeholder="Enter Your Query" class="query-input" required=""/>

    <button type="submit" class="submit-button"
    [disabled]="isLoading || !query.value">
     <span *ngIf="isLoading">Submitting...</span>
    <span *ngIf="!isLoading">Submit Query</span>
    </button>
    <div *ngIf="response" class="response">
       <p *ngIf="response">Response: {{response}}</p>
    </div>
   
  </form>
  <div>
      <table>
        <thead>
          <tr>
            <th>Id</th>
            <th>Time</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>Altidue</th>
            <th>DroneSpeed</th>
            <th>Battery(%)</th>
            <th>ImageDetected</th>
          </tr>
        </thead>
   <tbody>
    <tr *ngFor = "let droneData of droneList">
      <td>{{droneData.image_id}}</td>
      <td>{{droneData.timestamp}}</td>
      <td>{{droneData.latitude}}</td>
      <td>{{droneData.longitude}}</td>
      <td>{{droneData.altitude_m}}</td>
      <td>{{droneData.drone_speed_mps}}</td>    
      <td>{{droneData.battery_level_pct}}</td>
      <td>{{droneData.subject_detection}}</td>
    
    </tr>
      
    </tbody>
  </table>

  </div>
  
</div>
